#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128 
#define SCREEN_HEIGHT 64 

#define OLED_RESET     -1 
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);


const int buttonPin = 3;  
const int ledPin = 2;    

bool lastButtonState = HIGH;
bool currentButtonState = HIGH;
bool displayState = false;


static const unsigned char PROGMEM image_power_bits[] = {0x00,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0xa1,0x00,0xa1,0x00,0x80,0x00,0x80,0x00,0x80,0x40,0x7f,0x80};

static const unsigned char PROGMEM image_Scanning_short_bits[] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0x00,0xe0,0x00,0x00,0x00,0x00,0xc0,0x00,0x00,0x00,0x00,0x35,0xc0,0x18,0x00,0x00,0x00,0x00,0xc0,0x00,0x00,0x00,0x00,0x6a,0xa0,0x06,0x00,0x00,0x00,0x01,0x40,0x00,0x00,0x00,0x00,0x81,0x50,0x01,0x00,0x00,0x00,0x01,0x40,0x00,0x00,0x00,0x01,0x00,0xa8,0x00,0x80,0x00,0x00,0x02,0x40,0x00,0x00,0x00,0x02,0x00,0x1c,0x00,0x40,0x00,0x00,0x02,0x40,0x00,0x00,0x00,0x04,0x00,0x2e,0x00,0x20,0x00,0x00,0x02,0x41,0x80,0x00,0x00,0x04,0x00,0x16,0x00,0x20,0x00,0x00,0x04,0x41,0x40,0x60,0x00,0x08,0x00,0x0b,0x07,0xf0,0x00,0x00,0x04,0x41,0x40,0x50,0x30,0x08,0x00,0x05,0x38,0x08,0x00,0x00,0x04,0x41,0x40,0x50,0x28,0x10,0x07,0xcb,0xc0,0x08,0x00,0x00,0x08,0x41,0x40,0x50,0x28,0x10,0x09,0xe5,0x02,0x24,0x00,0x00,0x08,0x41,0x40,0x50,0x28,0x10,0x13,0xfe,0x21,0x14,0x00,0x00,0x08,0x21,0x40,0x50,0xff,0x11,0xe6,0x7c,0x11,0x14,0x00,0x00,0x08,0x21,0x5f,0xff,0xff,0x22,0x26,0x74,0x11,0x14,0x00,0x00,0x08,0x3f,0xf5,0xff,0xa8,0x22,0x27,0xf4,0x11,0x54,0x00,0x00,0x18,0x2b,0xfb,0xf8,0x28,0x22,0x27,0xf4,0x0a,0xff,0x00,0x7f,0xf8,0x37,0xfc,0x50,0x28,0x22,0x23,0xf4,0x57,0x00,0x80,0x80,0x58,0x3f,0x40,0x50,0x28,0x21,0x11,0xf4,0xb8,0x00,0x41,0xbe,0x78,0x21,0x40,0x50,0x18,0x61,0xf8,0x63,0x60,0x00,0x21,0xbe,0x68,0x21,0x40,0x50,0x00,0x62,0xaf,0xc3,0x80,0x00,0x22,0x80,0x44,0x21,0x40,0x30,0x00,0xe1,0x50,0x3e,0x00,0x00,0x22,0xc0,0x44,0x11,0x40,0x00,0x00,0xa2,0xa0,0x10,0x00,0x7e,0x25,0xc0,0x42,0x11,0x40,0x00,0x00,0x61,0x60,0x00,0x03,0x81,0xa5,0xe0,0x42,0x10,0xc0,0x00,0x00,0xa0,0x00,0x00,0x0c,0x00,0x4b,0xff,0x81,0x10,0x00,0x00,0x00,0x60,0x00,0x00,0x30,0x00,0x4b,0xf8,0x01,0x10,0x00,0x00,0x00,0xa0,0x01,0x00,0xc0,0x00,0x8b,0xf8,0x00,0x90,0x00,0x00,0x00,0x60,0x00,0x87,0x00,0x01,0x97,0xf0,0x00,0x48,0x00,0x00,0x00,0xa0,0x00,0x78,0x00,0x03,0x17,0xf0,0x00,0x28,0x00,0x00,0x00,0x60,0x00,0x00,0x00,0x0e,0x77,0xf0,0x00,0x18,0x00,0x00,0x00,0xe0,0x00,0x00,0x00,0x3c,0x9f,0xf0,0x00,0x00,0x00,0x00,0x00,0xc0,0x00,0x00,0x55,0xf9,0x0f,0xf0,0x00,0x00,0x00,0x00,0x00,0x80,0x02,0xaa,0xbf,0xfa,0x0f,0xe8,0x00,0x00,0x00,0x00,0x00,0xc0,0x01,0x57,0xff,0xfc,0x07,0xe8,0x00,0x00,0x00,0x00,0x00,0x80,0x02,0xab,0xff,0xf8,0x07,0xe8,0x00,0x00,0x00,0x00,0x00,0x40,0x01,0x55,0xff,0xf0,0x07,0xc8,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0xaa,0xaa,0xc0,0x0f,0xa8,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x55,0x55,0x00,0x0d,0x50,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x2a,0xae,0x00,0x1a,0xb0,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x15,0xf0,0x00,0x15,0x60,0x00,0x00,0x00,0x00,0x00,0xa0,0x00,0x3e,0x00,0x00,0x3a,0xc0,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x75,0x80,0x00,0x00,0x00,0x00,0x00,0xa0,0x00,0x00,0x00,0x00,0xeb,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x01,0xde,0x00,0x00,0x00,0x00,0x00,0x00,0xa8,0x00,0x00,0x00,0x03,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x54,0x00,0x00,0x00,0x0f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0xaa,0x00,0x00,0x00,0x3f,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x00,0x00,0x00,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00};


static const unsigned char PROGMEM image_DolphinNice_bits[] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x80,0x07,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x0c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x10,0x00,0x00,0x00,0x00,0x00,0xf8,0x0c,0x00,0x00,0x0f,0xe0,0x08,0x00,0x00,0x00,0x00,0x07,0x07,0x1a,0x80,0x00,0x10,0x10,0x08,0x00,0x00,0x00,0x00,0x08,0x00,0xf5,0x40,0x00,0x20,0x08,0x04,0x00,0x00,0x00,0x00,0x10,0x00,0x1e,0xa0,0x00,0x4f,0xc4,0x02,0x00,0x00,0x00,0x00,0x20,0x00,0x03,0xc0,0x00,0x5c,0x64,0x02,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x60,0x00,0x5c,0xe4,0x02,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x5c,0xe4,0x02,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x5f,0xe4,0x01,0x00,0x00,0x00,0x00,0x47,0x80,0x00,0x00,0x00,0x5f,0xe4,0x01,0x00,0x00,0x00,0x00,0x48,0x60,0x00,0x00,0x00,0x2f,0xca,0x01,0x00,0x00,0x00,0x00,0x50,0x1c,0x00,0x00,0x00,0x1f,0x95,0x01,0x00,0x00,0x00,0x00,0x20,0x03,0x80,0x00,0x00,0x20,0x6a,0x81,0x00,0x00,0x00,0x00,0x20,0x00,0x60,0x00,0x00,0x00,0x15,0x01,0x00,0x00,0x00,0x00,0x20,0x00,0x18,0x00,0x00,0x00,0x0a,0x81,0x00,0x00,0x18,0x00,0x20,0x00,0x06,0x00,0x00,0x00,0x0d,0x01,0x00,0x00,0x24,0x00,0x10,0x00,0x01,0x80,0x00,0x00,0x0a,0x01,0x00,0x00,0x44,0x00,0x10,0x00,0x00,0x60,0x00,0x00,0x0c,0x01,0x00,0x07,0x84,0x00,0x08,0x00,0x00,0x18,0x00,0x08,0x08,0x01,0x00,0x18,0x44,0x00,0x04,0x00,0x00,0x06,0x00,0x30,0x00,0x01,0x00,0x20,0x24,0x00,0x02,0x00,0x00,0x01,0x81,0xc0,0x00,0x01,0x00,0x40,0x24,0x00,0x01,0x40,0x00,0x00,0x7e,0x00,0x00,0x01,0x00,0x80,0x14,0x00,0x00,0xa8,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x80,0x12,0x00,0x00,0x74,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x80,0x11,0x00,0x00,0x1a,0x80,0x00,0x00,0x00,0x00,0x01,0x00,0x80,0x10,0xc0,0x00,0x0d,0x40,0x00,0x00,0x00,0x00,0x01,0x00,0x80,0x20,0x30,0x00,0x02,0xa8,0x00,0x00,0x00,0x00,0x01,0x80,0x40,0x40,0x0c,0x00,0x01,0x55,0x40,0x00,0x00,0x00,0x03,0x80,0x3f,0x80,0x03,0x00,0x01,0xaa,0xaa,0x00,0x00,0x00,0x03,0xc0,0x10,0x00,0x00,0xe0,0x01,0xd5,0x55,0x00,0x00,0x00,0x03,0xe0,0x08,0x00,0x00,0x1c,0x0f,0xaa,0xa8,0x00,0x00,0x00,0x03,0xe0,0x04,0x00,0x00,0x03,0xfb,0x55,0x00,0x00,0x00,0x00,0x03,0xf0,0x02,0x00,0x00,0x00,0x56,0x00,0x00,0x00,0x00,0x00,0x03,0xf0,0x01,0x00,0x00,0x01,0x2a,0x00,0x00,0x00,0x00,0x00,0x02,0xf8,0x00,0x80,0x00,0x00,0x54,0x00,0x00,0x00,0x00,0x00,0x03,0x78,0x00,0x40,0x00,0x00,0xac,0x00,0x00,0x00,0x00,0x00,0x02,0xbc,0x00,0x20,0x00,0x02,0x58,0x00,0x00,0x00,0x00,0x00,0x05,0x5c,0x00,0x10,0x00,0x00,0xa8,0x00,0x00,0x00,0x00,0x00,0x06,0xbe,0x00,0x08,0x00,0x02,0x50,0x00,0x00,0x00,0x00,0x00,0x05,0x5e,0x00,0x04,0x00,0x00,0xb0,0x00,0x00,0x00,0x00,0x00,0x06,0xaf,0x00,0x03,0x00,0x01,0x50,0x00,0x00,0x00,0x00,0x00,0x05,0x57,0x00,0x00,0x80,0x04,0xa0,0x00,0x00,0x00,0x00,0x00,0x06,0xaf,0x00,0x00,0x60,0x01,0x60,0x00,0x00,0x00,0x00,0x00,0x05,0x57,0x00,0x00,0x10,0x02,0xa0,0x00,0x00,0x00,0x00,0x00,0x06,0xa3,0x00,0x00,0x0c,0x09,0x40,0x00,0x00,0x00,0x00,0x00,0x05,0x53,0x00,0x00,0x03,0x02,0xc0,0x00,0x00,0x00,0x00,0x00,0x06,0xa1,0x00,0x00,0x00,0xe1,0x40,0x00,0x00,0x00,0x00,0x00,0x05,0x41,0x00,0x00,0x00,0x1e,0x80,0x00,0x00,0x00,0x00,0x00,0x06,0xa1,0x00,0x00,0x00,0x03,0x80,0x00,0x00,0x00,0x00,0x00,0x05,0x40};


void drawScreen_2(void) {
    display.clearDisplay();
    display.drawBitmap(29, 3, image_DolphinNice_bits, 96, 59, 1); 
    display.setTextColor(1);
    display.setTextWrap(false);
    display.setCursor(5, 11);
    display.print("Yes sir.");
    display.display();
}

void setup() {
  Serial.begin(115200);

  if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    Serial.println(F("SSD1306 allocation failed"));
    for(;;);
  }

  pinMode(ledPin, OUTPUT);
  pinMode(buttonPin, INPUT_PULLUP); 

  
  display.clearDisplay();
  display.drawBitmap(3, -1, image_Scanning_short_bits, 96, 52, 1);
  display.setTextColor(1);
  display.setTextWrap(false);
  display.setCursor(57, 33);
  display.print("Press button");
  display.drawBitmap(86, 46, image_power_bits, 10, 10, 1);
  display.display();
}

void loop() {
  currentButtonState = digitalRead(buttonPin);

  if (lastButtonState == HIGH && currentButtonState == LOW) {
    delay(50); 
    
    displayState = !displayState;

    display.clearDisplay();
    
    if (displayState) {
      drawScreen_2();  
    } else {
      display.drawBitmap(3, -1, image_Scanning_short_bits, 96, 52, 1);
    }


    display.setTextColor(1);
    display.setTextWrap(false);
    display.setCursor(57, 33);
    display.print("Press Button");

    digitalWrite(ledPin, HIGH);
    delay(100);
    digitalWrite(ledPin, LOW);
    delay(100);

    display.display();  
  }

  lastButtonState = currentButtonState;
}
